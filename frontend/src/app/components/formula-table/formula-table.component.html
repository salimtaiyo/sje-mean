<app-header></app-header>
<app-navbar></app-navbar>

<div class="wrapper">
  <div class="tableTitle">
    <h3 style="color: white; ">QUANTITY SURVEY</h3>

    <p>{{ message }}</p>
  </div>

  <table>
    <tr>
      <th>Resource Name</th>
      <th *ngIf = "checkCode == true">Resource Code</th>
      <th *ngIf = "checkId == true">Item ID</th>
      <th *ngFor= "let title of templateArray; let i = index"> {{ title }} </th>
    </tr>

    <tr *ngFor="let data of dataProject; let i = index">

      <td *ngIf = "i === editRowID">
        <input type = "text" [(ngModel)] = "data.resource" (keydown.enter)="submitUpdate(data)"/>
      </td>
      <td *ngIf = "i !== editRowID" (click) = "checkEditRow(i)"> {{ data.resource}} <br/></td>


      <td *ngIf = "i === editRowID">
        <input type = "text" placeholder="{{ data.code }}" [(ngModel)]= "data.code" (keydown.enter)="submitUpdate(data)"/>
      </td>
      <td *ngIf = "i !== editRowID && checkCode == true" (click) = "checkEditRow(i)">{{ data.code }}</td>

      <td *ngIf = "checkId == true"> {{ data._id}}</td>

      <td *ngFor="let values of templateArray; let i = index"> <input (keydown.enter)="jjj($event)"/> </td>
    </tr>
  </table>

  <div style=" width: 90%; margin: 25px auto;">
    <a href="#" style="font-weight: bold;" routerLink="/template"> Edit Quantity Survey Template </a>

    <button type="submit" routerLink="/resource"><i class="fas fa-check"></i> Submit</button>
  </div>
</div>

